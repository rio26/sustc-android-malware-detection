import os

first_dir='data'
dirs=[]

for r, d, l in os.walk(first_dir):
	dirs.append(d)

for second_dir in dirs[0]:
	tmp=[]
	for r,d,l in os.walk(first_dir+'/'+second_dir):
		tmp.append(d)
	count=0
	for third_dir in tmp[0]:
		if third_dir[0]=='v':
			count+=1
			os.system("mkdir "+first_dir+'/'+second_dir+'/'+'outputs'+str(count))
			list=[]
			for r,d,l in os.walk(first_dir+'/'+second_dir+'/'+third_dir):
				list=l
			print(list)
			for file in list:
				os.system('java -jar ClassyShark.jar -export '+first_dir+'/'+second_dir+'/'+third_dir+'/'+file)
				os.system('mkdir '+first_dir+'/'+second_dir+'/'+'outputs'+str(count)+'/'+file[:-4])
				os.system('rm AndroidManifest.xml_dump')
				os.system('mv '+'all_classes.txt '+first_dir+'/'+second_dir+'/'+'outputs'+str(count)+'/'+file[:-4])
				os.system('mv '+'all_methods.txt '+first_dir+'/'+second_dir+'/'+'outputs'+str(count)+'/'+file[:-4])
				os.system('mv '+'all_strings.txt '+first_dir+'/'+second_dir+'/'+'outputs'+str(count)+'/'+file[:-4])
				os.system('mv '+'method_counts.txt '+first_dir+'/'+second_dir+'/'+'outputs'+str(count)+'/'+file[:-4])
