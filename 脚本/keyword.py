keywords={}
f=open('api_names.txt')
s=f.readlines()
f.close()

for i in range(0,len(s),2):
	for item in s[i+1][:-1].split('.'):
		if item not in keywords.keys():
			keywords[item]=1
		else:
			keywords[item]+=1

keywords.pop('com')
keywords.pop('android')
keywords.pop('app')
keywords.pop('my')
keywords.pop('security')
keywords.pop('service')
keywords.pop('client')
keywords.pop('org')

# for key,value in sorted(keywords.items(), key=lambda x: x[1],reverse=True):
# 	print( key,value)

m={}

def write():
	global m
	f=open("api_times_rank_filter.txt",'w')
	for key,value in sorted(m.items(), key=lambda x: x[1],reverse=True):
		f.write(str(key)+str(value)+'\n')
	f.close()


f=open('api_times_rank.txt','r')
s=f.readlines()
f.close()
for i in range(0,len(s),2):
	flag=False
	for keyword in keywords.keys():
		if s[i].find(keyword)!=-1:
			flag=True
			break
	if flag:
		continue
	m[s[i]]=int(s[i+1])
write()

